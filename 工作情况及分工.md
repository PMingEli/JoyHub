# 工作

目前只是初步计划，各位成员可对此文档进行修改与填写具体。

## 前端

**登录**（登录验证找后端数据库对接）

**首页界面**（布局、图标、跳转等等）

**游戏布局**（非开局，选择模式按钮，开房间，退出等等）

**游戏布局**（开局，明牌、角色、扑克牌、声音、特效：飞机，火箭等等）

**结算界面**（布局、积分变动、按钮等等）

**跳转逻辑**（各个界面之间的跳转）

**动画**（发牌、出牌等等）

以上前端部分可以多多参考现有产品，例如欢乐斗地主。同时若有不会，积极查询学习或组内讨论。致力于实现符合用户使用直觉的前端。

以上负责前端的同学自由分配工作量，最后汇总。



## 后端

### 扑克牌实现逻辑

**扑克牌（花色，数值，权重）**

**注**：扑克牌的不同花色，"Heart", "Spade", "Diamond", "Club"分别代表红心❤，黑桃♠，方块♦，梅花♣；同数值的牌的权重值相同，3的权重值为1，依次上涨，小鬼的权重值为14，大鬼的权重值为15，大小鬼的花色只分Red和Black，数值均为Joker

发牌：在生成集合中随机为3个玩家各取出17张扑克牌，留下三张成为地主的牌

排序：按照扑克牌的权重值排序，从大到小

**规则：**

注：局面上共有6个集合，①牌初始化容器Cards，负责包含54张牌，后期负责牌的回收；②选中牌集合cards，内含玩家选中要出的牌；③当前牌面集合curCards，内含上一位出牌玩家所出的牌；④玩家一，玩家一的当前牌；⑤玩家二；⑥玩家三

抢地主机制：令牌环，开始随机一名赋予抢地主权限，依次下去，直到结束（一轮未有比自己大或最大分，则自己为地主，一轮有相同最大分则给最大分的第一位，若他仍然抢地主则他为地主，反之则为另外一人，三人同时抢地主的逻辑与前面相似）

开始地主可选择明牌。（前端）

出牌：令牌环赋予玩家出牌权限，选中出牌，将选中的牌移至cards集合，判断cards和curCards的牌型并比较大小，若可出牌便更新curCards，将curCards移入Cards集合，cards移入curCards，否则便返回cards给当前玩家。

如此循环直至某一玩家的牌集为空，结束对局，调整积分，调整令牌环，将上局的胜出者设为发牌和抢地主的第一位。

扑克牌在不同集合之间的移动：add与remove

分工（暂时如下，如有异议请提出并讨论）：

彭明均：牌集实现与维护，牌型判断与返回

谢一帆：是否出牌，系统出牌（调用函数实现牌在集合之间的移动）

梁俊涛：令牌环的实现与维护，抢地主机制，结束对局之后的各个部分的调整



## 接口

进场id，按钮信号，选中出牌，积分变动，30s时间限制等

